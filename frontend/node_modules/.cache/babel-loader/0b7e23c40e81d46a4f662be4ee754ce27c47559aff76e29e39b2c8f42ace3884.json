{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\umut\\\\OneDrive\\\\Desktop\\\\followup\\\\frontend\\\\src\\\\components\\\\Upload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"../styles/Upload.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Upload({\n  onUpload\n}) {\n  _s();\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n    setMessage(\"\");\n  };\n  const handleUpload = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage(\"\");\n    if (!file) {\n      setMessage(\"Lütfen bir dosya seçin.\");\n      setLoading(false);\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const token = localStorage.getItem(\"token\");\n    try {\n      const response = await fetch(\"http://localhost:5000/api/upload\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        body: formData\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setMessage(\"Dosya başarıyla yüklendi!\");\n        setFile(null);\n        if (onUpload) onUpload();\n      } else {\n        setMessage(data.message || \"Yükleme başarısız.\");\n      }\n    } catch (err) {\n      setMessage(\"Sunucuya ulaşılamadı.\");\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"upload-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Excel Dosyas\\u0131 Y\\xFCkle (.xls, .xlsx)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUpload,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".xls,.xlsx\",\n        onChange: handleFileChange,\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        children: loading ? \"Yükleniyor...\" : \"Yükle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(Upload, \"WYumUyemLPauky+CxbjezfzxN+w=\");\n_c = Upload;\nexport default Upload;\nvar _c;\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Upload","onUpload","_s","file","setFile","loading","setLoading","message","setMessage","handleFileChange","e","target","files","handleUpload","preventDefault","formData","FormData","append","token","localStorage","getItem","response","fetch","method","headers","Authorization","body","data","json","ok","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","accept","onChange","disabled","_c","$RefreshReg$"],"sources":["C:/Users/umut/OneDrive/Desktop/followup/frontend/src/components/Upload.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"../styles/Upload.css\";\n\nfunction Upload({ onUpload }) {\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n    setMessage(\"\");\n  };\n\n  const handleUpload = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage(\"\");\n\n    if (!file) {\n      setMessage(\"Lütfen bir dosya seçin.\");\n      setLoading(false);\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    const token = localStorage.getItem(\"token\");\n\n    try {\n      const response = await fetch(\"http://localhost:5000/api/upload\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setMessage(\"Dosya başarıyla yüklendi!\");\n        setFile(null);\n        if (onUpload) onUpload();\n      } else {\n        setMessage(data.message || \"Yükleme başarısız.\");\n      }\n    } catch (err) {\n      setMessage(\"Sunucuya ulaşılamadı.\");\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"upload-container\">\n      <h3>Excel Dosyası Yükle (.xls, .xlsx)</h3>\n      <form onSubmit={handleUpload}>\n        <input\n          type=\"file\"\n          accept=\".xls,.xlsx\"\n          onChange={handleFileChange}\n          disabled={loading}\n        />\n        <button type=\"submit\" disabled={loading}>\n          {loading ? \"Yükleniyor...\" : \"Yükle\"}\n        </button>\n        {message && <div className=\"upload-message\">{message}</div>}\n      </form>\n    </div>\n  );\n}\n\nexport default Upload;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,SAASC,MAAMA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC5B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMY,gBAAgB,GAAIC,CAAC,IAAK;IAC9BN,OAAO,CAACM,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC1BJ,UAAU,CAAC,EAAE,CAAC;EAChB,CAAC;EAED,MAAMK,YAAY,GAAG,MAAOH,CAAC,IAAK;IAChCA,CAAC,CAACI,cAAc,CAAC,CAAC;IAClBR,UAAU,CAAC,IAAI,CAAC;IAChBE,UAAU,CAAC,EAAE,CAAC;IAEd,IAAI,CAACL,IAAI,EAAE;MACTK,UAAU,CAAC,yBAAyB,CAAC;MACrCF,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;IAEA,MAAMS,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEd,IAAI,CAAC;IAE7B,MAAMe,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;QAC/DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUP,KAAK;QAChC,CAAC;QACDQ,IAAI,EAAEX;MACR,CAAC,CAAC;MAEF,MAAMY,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;MAElC,IAAIP,QAAQ,CAACQ,EAAE,EAAE;QACfrB,UAAU,CAAC,2BAA2B,CAAC;QACvCJ,OAAO,CAAC,IAAI,CAAC;QACb,IAAIH,QAAQ,EAAEA,QAAQ,CAAC,CAAC;MAC1B,CAAC,MAAM;QACLO,UAAU,CAACmB,IAAI,CAACpB,OAAO,IAAI,oBAAoB,CAAC;MAClD;IACF,CAAC,CAAC,OAAOuB,GAAG,EAAE;MACZtB,UAAU,CAAC,uBAAuB,CAAC;IACrC;IACAF,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,oBACEP,OAAA;IAAKgC,SAAS,EAAC,kBAAkB;IAAAC,QAAA,gBAC/BjC,OAAA;MAAAiC,QAAA,EAAI;IAAiC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC1CrC,OAAA;MAAMsC,QAAQ,EAAExB,YAAa;MAAAmB,QAAA,gBAC3BjC,OAAA;QACEuC,IAAI,EAAC,MAAM;QACXC,MAAM,EAAC,YAAY;QACnBC,QAAQ,EAAE/B,gBAAiB;QAC3BgC,QAAQ,EAAEpC;MAAQ;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eACFrC,OAAA;QAAQuC,IAAI,EAAC,QAAQ;QAACG,QAAQ,EAAEpC,OAAQ;QAAA2B,QAAA,EACrC3B,OAAO,GAAG,eAAe,GAAG;MAAO;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9B,CAAC,EACR7B,OAAO,iBAAIR,OAAA;QAAKgC,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAAEzB;MAAO;QAAA0B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAClC,EAAA,CAnEQF,MAAM;AAAA0C,EAAA,GAAN1C,MAAM;AAqEf,eAAeA,MAAM;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}